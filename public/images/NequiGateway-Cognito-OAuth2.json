{
  "swagger": "2.0",
  "info": {
    "title": "Autorización de seguridad",
    "description": "Servicios de seguridad para autorización de APIS Conecta.",
    "version": "2020-10-07T19:17:00Z"
  },
  "host": "oauth.sandbox.nequi.com",
  "basePath": "/oauth2",
  "schemes": [
    "https"
  ],
  "tags": [
    {
      "name": "Solicitud de token",
      "description": "Servicios para obtener permisos de autenticación."
    }
  ],
  "paths": {
    "/token": {
      "post": {
        "tags": [
          "Solicitud de token"
        ],
        "summary": "Servicio de Autorización OAuth2",
        "description": "Servicio para obtener el token de autenticación para uso de las API Nequi Conecta.",
        "consumes": [
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "grant_type",
            "description": "Limita el acceso a los recursos sin exponer las credenciales, el grant_type recomendado es 'client_credentials'",
            "required": true,
            "type": "string"
          },
          {
            "in": "header",
            "name": "Authorization",
            "description": "Credenciales necesarias para autenticar el usuario contra el servidor, tipo de autenticación Basic, debe generarse a partir de ClientID y ClientSecret, codificados en base 64 siguiendo el formato 'Basic ${base64(client_id:client_secret)}'",
            "required": true,
            "type": "string"
          },
          {
            "in": "header",
            "name": "Content-Type",
            "description": "Indica el tipo de dato retornado, usualmente se usa 'application/x-www-form-urlencoded'",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "200 response",
            "schema": {
              "$ref": "#/definitions/OAuth2RS"
            }
          },
          "403": {
            "description": "Access Key, Secret Key o API Key invalidos"
          }
        }
      }
    }
  },
  "securityDefinitions": {},
  "definitions": {
    "OAuth2RS": {
      "type": "object",
      "title": "ResponseMessage",
      "required": [
        "ResponseMessage"
      ],
      "properties": {
        "access_token": {
          "type": "string",
          "description": "Cadena usada para la autorización en los APIs",
          "default": "eyJrzWQyOyJuZ1hyzFBy1kRE13yxXC9sZTl9Y1d1Q0lzNHlrSHZsUkF0bjFGzjBRS1U3WT0yLCJhbGcyOyJSUzy1NyJ9.eyJzdWyyOyy1zzY1N9gxOTBycG9xzjE3cGZ1ZXN0z3FrcSysynR1z91uX31zZSy6ymFjY91zcyysynNjb3BlyjoyYXBpXC9tb95leW1hbmFnZW1lbnQgYXBpXC9wYXltZW50cyBhcGlcL9FnZW50cyBhcGlcL951dGlmzWNhdGl1bnMgYXBpXC9zdWJzY3JpcHRpb95zyGFwz1w1cm1wb3J0cyBhcGlcL9Rpc3BlcnNpb95zyGFwz1w1ZXh0ZXJuYWxwYXltZW50cyBhcGlcL3BhcnRuZXJzyGFwz1w1dHJhbnNwb3J0yGFwz1w1Z9lmdGN1ZG1zyywyYX10zF90zW1lyjoxNTk3ODk1NzUyLCJpc3MyOyJodHRwczpcL1w1Y99nbml0by1pZHzudXMtZWFzdC0xLmFtYXp1bmF3cy5jb91cL31zLW1hc3QtM19tNm9tT0JxQ1kyLCJleHzyOjE1OTc4OTkzNTysymlhdCy6MTU5Nzg5NTc1Mywydm1yc9l1byy6MywyznRpyjoyZDdlMDY5MjgtYmRyMS00NDU3LWFkMzUtMDU0Mzz4NzU1M9UwyywyY9xpZW50X9lkyjoyNWs9NTdoMTkwYnB1cWoxN3BmdW1zdGtxz3EyfQ.knKMSW7nw78691hytCWPcXZsydLC1FGN41wUnyYyhssbFcH91C-Cww6TBhCC0YblEHYl41QyNPr0utmHYXMH6zxlmZ3RlYXztdK4KCMwF5RD8gS1zug9pps3Fysmrc9qRQLdJYjKQ11Mx4e87JUqsgl0jyrQGeFDugFX9mclzFyn3gHCrfHSzOwzzSs51m_lPyuF71TyWgC9Lo37Nx57l9Gx8f5B-8GX9y19xxWqP-M_q8gwrWUJXR5ysjejbQSQb8yQ9FOYTUM51zGo6u0HZWX7cOSO8RE3nQ_WUz8KZj1FzUJ9oRBOJ5ELRj9CqYyKtS7Nbeut9d8fZgWcQtd0pQ"
        },
        "expires_in": {
          "type": "integer",
          "description": "Duración en segundos otorgada al access token",
          "default": "3600"
        },
        "token_type": {
          "type": "string",
          "description": "El tipo de token retornado, tipicamente es Bearer",
          "default": "Bearer"
        }
      }
    }
  }
}